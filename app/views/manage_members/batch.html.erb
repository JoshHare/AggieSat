<div class="container">
  <h1 class="mt-5">Upload Multiple Members</h1>
  <%= link_to "Back to Manage Members", manage_members_path, class: "btn btn-custom", style: "margin-bottom: 10px;" %>
  <p>Upload a CSV containing the emails and names of the members you would like to add. The emails must be valid TAMU addresses ending in @tamu.edu. The CSV should contain one column of emails with the header 'email' and one column of names with the header 'name'. (For info on CSV's see the help section) </p>
  <%= form_tag manage_members_process_batch_path, multipart: true, class: "mt-3" do %>
    <div class="form-group">
      <%= label_tag :csv_file, "CSV File", class: "form-label" %>
      <%= file_field_tag :csv_file, class: "form-control-file" %>
    </div>

    <%= submit_tag "Upload", class: "btn btn-custom mt-3" %>
  <% end %>

  <% if flash[:success] %>
    <div class="alert alert-success mt-3">
      <%= flash[:success] %>
    </div>
  <% elsif flash[:error] %>
    <div class="alert alert-danger mt-3">
      <%= flash[:error] %>
    </div>
  <% end %>

  <% if defined?(@emails) && !@emails.empty? %>
    <h2>Extracted Emails:</h2>
    <ul>
      <% emails.each do |email| %>
        <li><%= email %></li>
      <% end %>
    </ul>
  <% end %>
</div>
